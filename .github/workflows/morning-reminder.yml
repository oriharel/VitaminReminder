name: Vitamin Reminder

on:
  schedule:
    # 05:45 UTC = 07:45 Israel Standard Time (UTC+2)
    # 19:30 UTC = 21:30 Israel Standard Time (UTC+2)
    # Note: During summer time (UTC+3) these will be 08:45 and 22:30
    - cron: '45 5 * * *'
    - cron: '30 19 * * *'
  workflow_dispatch: # Allow manual run from GitHub UI

jobs:
  trigger_reminder:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Vercel Endpoint
        run: |
          MESSAGE=$(python3 -c "import urllib.parse; print(urllib.parse.quote('ðŸ’Š Time to take your vitamins! ðŸ’Š'))")
          curl -X POST "https://vitamin-reminder.vercel.app/api/remind?message=${MESSAGE}"
