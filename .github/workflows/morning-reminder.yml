name: Morning Reminder

on:
  schedule:
    # 05:00 UTC = 07:00 Israel Standard Time (UTC+2)
    # Note: Will be 08:00 during Israel Summer Time (UTC+3)
    - cron: '0 5 * * *'
  workflow_dispatch: # Allow manual run from GitHub UI

jobs:
  trigger_reminder:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Vercel Endpoint
        run: |
          MESSAGE=$(python3 -c "import urllib.parse; print(urllib.parse.quote('ðŸ‘‹ Good morning! Time for your morning routine! ðŸ‘‹'))")
          curl -X POST "https://vitamin-reminder.vercel.app/api/remind?message=${MESSAGE}"
